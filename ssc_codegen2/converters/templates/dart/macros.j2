{% macro imports() %}
// Auto generated code by ssc_gen
// WARNING: Any manual changes made to this file will be lost when this
// is run again. Do not edit this file unless you know what you are doing.

import 'dart:core';
import 'baseStruct.dart';
{% endmacro %}

{% macro class_header(struct) %}
{{- struct.docstring }}
class {{ struct.name }} extends BaseParser
{% endmacro %}

{% macro super_init(struct)%}
    {{ struct.name }}(raw_document) : super(raw_document);
    {{ struct.name }}.fromDocument(document): super.fromDocument(document);
    {{ struct.name }}.fromElement(element): super.fromElement(element);
{% endmacro %}

{# generate parse methods inner class #}
{% macro methods_code(struct) %}
{% for code in struct.methods_code() %}
    {{ code }}
    {% endfor %}
{% endmacro %}

{# generate parser method for ItemSchema#}
{% macro parse_item_schema(struct) %}
    @override
    m_runParse() {
        Map<String, dynamic> items = {};
    {% for name in struct.methods_names %}
        items["{{ name }}"] = _parse{{ name.lower().capitalize() }}(selector);
    {%- endfor %}
        return items;
    }

{% endmacro %}

{# generate parser method for DictSchema #}
{% macro parse_dict_schema(struct) %}
    @override
    m_runParse(){
        Map<String, dynamic> items = {};
        for (var el in m_partDocument(selector)){
            items[_parseKey(el)] = _parseValue(el);
        }
        return items;
    }
{% endmacro %}


{# generate parser method for FlattenListSchema #}
{% macro parse_flatten_list_schema(struct) %}
    @override
    m_runParse(){
        List<dynamic> items = [];
        for (var el in m_partDocument(selector)){
            items.add(_parseItem(el));
        }
        return items;
    }
{% endmacro %}


{# generate parser method for ListSchema #}
{% macro parse_list_schema(struct) %}
    @override
    m_runParse() {
        List<Map<String, dynamic>> items = [];
        for (var el in m_partDocument(selector)){
            Map<String, dynamic> tmpItem = {};
            {% for name in struct.methods_names %}
                tmpItem["{{ name }}"] = _parse{{ name.lower().capitalize() }}(el);
            {% endfor %}
            items.add(tmpItem);
        }
        return items;
    }
{% endmacro %}

{# TODO: MAYBE add base methods interface? #}